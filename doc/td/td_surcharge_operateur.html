<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<title>Surcharge d&rsquo;opérateur</title>
<meta  http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta  name="generator" content="Org-mode" />
<link rel="stylesheet" href="../stylesheets/styles.css">
                 <link rel="stylesheet" href="../stylesheets/org-pygments.css">
<script type="text/javascript">
/*
@licstart  The following is the entire license notice for the
JavaScript code in this tag.

Copyright (C) 2012-2013 Free Software Foundation, Inc.

The JavaScript code in this tag is free software: you can
redistribute it and/or modify it under the terms of the GNU
General Public License (GNU GPL) as published by the Free Software
Foundation, either version 3 of the License, or (at your option)
any later version.  The code is distributed WITHOUT ANY WARRANTY;
without even the implied warranty of MERCHANTABILITY or FITNESS
FOR A PARTICULAR PURPOSE.  See the GNU GPL for more details.

As additional permission under GNU GPL version 3 section 7, you
may distribute non-source (e.g., minimized or compacted) forms of
that code without the copy of the GNU GPL normally required by
section 4, provided you include this license notice and a URL
through which recipients can access the Corresponding Source.


@licend  The above is the entire license notice
for the JavaScript code in this tag.
*/
<!--/*--><![CDATA[/*><!--*/
 function CodeHighlightOn(elem, id)
 {
   var target = document.getElementById(id);
   if(null != target) {
     elem.cacheClassElem = elem.className;
     elem.cacheClassTarget = target.className;
     target.className = "code-highlighted";
     elem.className   = "code-highlighted";
   }
 }
 function CodeHighlightOff(elem, id)
 {
   var target = document.getElementById(id);
   if(elem.cacheClassElem)
     elem.className = elem.cacheClassElem;
   if(elem.cacheClassTarget)
     target.className = elem.cacheClassTarget;
 }
/*]]>*///-->
</script>
</head>
<body>
<div id="preamble" class="status">
</a><a href="td_pointeur_fonction.html">Compilation, pointeur & références </a><a href="td_specificite_c++.html">Spécificités du C++ </a><a href="td_classes.html">Classes en C++ </a><a href="td_classe_complexe.html">Fraction de nombres complexes </a><a href="td_nombre_aleatoire.html">Constructeur & destructeurs </a><a href="td_surcharge_operateur.html">Surcharge d'opérateur </a><a href="td_polymorphisme.html">Polymorphisme & classe abstraite </a><a href="td_blackjack.html">Jeu du blackjack </a>
                     <hr/>
                     <a href="../../index.html">Retour menu principal</a>
</div>
<div id="content">
<h1 class="title">Surcharge d&rsquo;opérateur</h1><hr/>

<div id="outline-container-unnumbered-1" class="outline-2">
<h2 id="unnumbered-1">Surcharge des opérateurs <code>==</code> et <code>&lt;&lt;</code></h2>
<div class="outline-text-2" id="text-unnumbered-1">
<p>
À partir de la classe <code>Hasard</code> définie lors du TD précédent, remplacer la
méthode de comparaison par la surcharge de l&rsquo;opérateur <code>==</code>. On rappellera que
le type renvoyé est dans ce cas booléen.
</p>

<p>
De même, remplacer la méthode <code>Affiche()</code> qui présente l&rsquo;ensemble des valeurs
tirées aléatoirement par la surdéfinition de l&rsquo;opérateur <code>&lt;&lt;</code>. Dans ce but, le
type renvoyé sera <code>std::ostream</code> <i>i.e.</i> que l&rsquo;affichage se fera à
l&rsquo;écran, le prototype étant
</p>
<div class="org-src-container">

<pre class="src src-c++"><span class="org-keyword">friend</span> <span class="org-constant">std</span>::<span class="org-type">ostream</span>&amp; <span class="org-keyword">operator</span><span class="org-function-name">&lt;&lt;</span>(<span class="org-constant">std</span>::<span class="org-type">ostream</span>&amp; <span class="org-variable-name">os</span>, <span class="org-keyword">const</span> <span class="org-type">Hasard</span>&amp; <span class="org-variable-name">source</span>);
</pre>
</div>
</div>
</div>

<div id="outline-container-unnumbered-2" class="outline-2">
<h2 id="unnumbered-2">Constructeur de recopie et accès mémoire</h2>
<div class="outline-text-2" id="text-unnumbered-2">
<p>
En utilisant la classe <code>Hasard</code>, créer au sein du programme principal, une
fonction <code>TestObjet</code> prenant pour argument un objet de type <code>Hasard</code> qui se
contentera d&rsquo;afficher un message à l&rsquo;écran. Aucune opération sur l&rsquo;objet ne sera
réalisée.
</p>

<p>
En parallèle, afficher, lors de la création et de la destruction d&rsquo;une instance
<code>Hasard</code>, l&rsquo;adresse de l&rsquo;objet courant de même que l&rsquo;adresse du pointeur de
nombre aléatoire. On s&rsquo;aidera du pointeur <code>this</code> pour cette opération.
</p>

<p>
Exécuter le programme principal, en créant une instance de la classe <code>Hasard</code>
puis en l&rsquo;utilisant au travers de la fonction <code>TestObjet</code>.
</p>

<p>
Résoudre la situation précédente en créant un constructeur de recopie. Que se
passe-t-il si l&rsquo;objet <code>Hasard</code> n&rsquo;est plus transmis par valeur mais pas
référence à la fonction <code>TestObjet</code> ?
</p>
</div>
</div>
</div>
</body>
</html>
